<Window x:Class="StudentNameWPF.Views.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="FUMiniHotelSystem - Hotel Management System" 
        Height="750" 
        Width="1500"
        WindowStartupLocation="CenterScreen"
        Background="#F8FAFC"
        WindowStyle="None"
        AllowsTransparency="True">
    
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <!-- Top Header Bar -->
        <Border Grid.Row="0" Background="White" BorderBrush="#E2E8F0" BorderThickness="0,0,0,1" Padding="20,15">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                
                <StackPanel Grid.Column="0">
                    <TextBlock Text="ðŸ¨ FUMiniHotelSystem" FontSize="24" FontWeight="Bold" Foreground="#1F2937"/>
                    <TextBlock Text="{Binding CurrentUser.CustomerFullName, StringFormat='Welcome, {0}'}" 
                               FontSize="14" Foreground="#6B7280" Margin="0,5,0,0"/>
                </StackPanel>
                
                <StackPanel Grid.Column="1" Orientation="Horizontal">
                    <Button Content="ðŸ“Š Realtime Dashboard" 
                            Click="OpenRealtimeDashboard_Click"
                            Padding="15,8" 
                            Background="#06B6D4" 
                            Foreground="White" 
                            BorderThickness="0" 
                            Cursor="Hand"
                            Margin="0,0,10,0"
                            FontWeight="SemiBold"
                            Visibility="{Binding CurrentUser.IsAdmin, Converter={StaticResource BooleanToVisibilityConverter}}">
                        <Button.Style>
                            <Style TargetType="Button">
                                <Setter Property="Background" Value="#06B6D4"/>
                                <Style.Triggers>
                                    <Trigger Property="IsMouseOver" Value="True">
                                        <Setter Property="Background" Value="#0891B2"/>
                                    </Trigger>
                                </Style.Triggers>
                            </Style>
                        </Button.Style>
                    </Button>
                    <Button Content="Logout" 
                            Command="{Binding LogoutCommand}"
                            Padding="15,8" 
                            Background="#EF4444" 
                            Foreground="White" 
                            BorderThickness="0" 
                            Cursor="Hand"
                            FontWeight="SemiBold">
                        <Button.Style>
                            <Style TargetType="Button">
                                <Setter Property="Background" Value="#EF4444"/>
                                <Style.Triggers>
                                    <Trigger Property="IsMouseOver" Value="True">
                                        <Setter Property="Background" Value="#DC2626"/>
                                    </Trigger>
                                </Style.Triggers>
                            </Style>
                        </Button.Style>
                    </Button>
                    
                    <!-- Window Control Buttons -->
                    <StackPanel Orientation="Horizontal" Margin="12,0,0,0">
                        <Button x:Name="MinimizeButton" Content="ðŸ—•" Width="32" Height="32" Background="Transparent" 
                                BorderThickness="0" Margin="0,0,4,0" Click="MinimizeButton_Click" Cursor="Hand">
                            <Button.Style>
                                <Style TargetType="Button">
                                    <Setter Property="Template">
                                        <Setter.Value>
                                            <ControlTemplate TargetType="Button">
                                                <Border Background="{TemplateBinding Background}" CornerRadius="4" Width="32" Height="32">
                                                    <TextBlock Text="ðŸ—•" FontSize="14" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                                </Border>
                                                <ControlTemplate.Triggers>
                                                    <Trigger Property="IsMouseOver" Value="True">
                                                        <Setter Property="Background" Value="#F3F4F6"/>
                                                    </Trigger>
                                                </ControlTemplate.Triggers>
                                            </ControlTemplate>
                                        </Setter.Value>
                                    </Setter>
                                </Style>
                            </Button.Style>
                        </Button>
                        
                        <Button x:Name="MaximizeButton" Content="ðŸ—–" Width="32" Height="32" Background="Transparent" 
                                BorderThickness="0" Margin="0,0,4,0" Click="MaximizeButton_Click" Cursor="Hand">
                            <Button.Style>
                                <Style TargetType="Button">
                                    <Setter Property="Template">
                                        <Setter.Value>
                                            <ControlTemplate TargetType="Button">
                                                <Border Background="{TemplateBinding Background}" CornerRadius="4" Width="32" Height="32">
                                                    <TextBlock Text="ðŸ—–" FontSize="14" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                                </Border>
                                                <ControlTemplate.Triggers>
                                                    <Trigger Property="IsMouseOver" Value="True">
                                                        <Setter Property="Background" Value="#F3F4F6"/>
                                                    </Trigger>
                                                </ControlTemplate.Triggers>
                                            </ControlTemplate>
                                        </Setter.Value>
                                    </Setter>
                                </Style>
                            </Button.Style>
                        </Button>
                        
                        <Button x:Name="CloseButton" Content="ðŸ—™" Width="32" Height="32" Background="Transparent" 
                                BorderThickness="0" Click="CloseButton_Click" Cursor="Hand">
                            <Button.Style>
                                <Style TargetType="Button">
                                    <Setter Property="Template">
                                        <Setter.Value>
                                            <ControlTemplate TargetType="Button">
                                                <Border Background="{TemplateBinding Background}" CornerRadius="4" Width="32" Height="32">
                                                    <TextBlock Text="ðŸ—™" FontSize="14" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                                </Border>
                                                <ControlTemplate.Triggers>
                                                    <Trigger Property="IsMouseOver" Value="True">
                                                        <Setter Property="Background" Value="#EF4444"/>
                                                    </Trigger>
                                                </ControlTemplate.Triggers>
                                            </ControlTemplate>
                                        </Setter.Value>
                                    </Setter>
                                </Style>
                            </Button.Style>
                        </Button>
                    </StackPanel>
                </StackPanel>
            </Grid>
        </Border>

        <!-- Main Content -->
        <Grid Grid.Row="1">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="250"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>

            <!-- Left Sidebar -->
            <Border Grid.Column="0" Background="#1E40AF" BorderBrush="#1D4ED8" BorderThickness="0,0,1,0">
                <StackPanel Margin="20">
                    <TextBlock Text="Navigation" FontSize="16" FontWeight="Bold" Margin="0,0,0,20" 
                               Foreground="White" HorizontalAlignment="Center"/>
                
                    <Button Content="ðŸ“Š Dashboard" 
                            Command="{Binding NavigateCommand}" 
                            CommandParameter="Dashboard"
                            Style="{StaticResource NavigationButtonStyle}"
                            Margin="0,0,0,8"
                            Background="White"
                            Foreground="#1E40AF"
                            FontWeight="Bold"/>
                
                    <Button Content="ðŸ‘¥ Customers" 
                            Command="{Binding NavigateCommand}" 
                            CommandParameter="Customers"
                            Style="{StaticResource NavigationButtonStyle}"
                            Margin="0,0,0,8"
                            Visibility="{Binding CurrentUser.IsAdmin, Converter={StaticResource BooleanToVisibilityConverter}}"/>
                
                    <Button Content="ðŸ¨ Rooms" 
                            Command="{Binding NavigateCommand}" 
                            CommandParameter="Rooms"
                            Style="{StaticResource NavigationButtonStyle}"
                            Margin="0,0,0,8"
                            Visibility="{Binding CurrentUser.IsAdmin, Converter={StaticResource BooleanToVisibilityConverter}}"/>
                
                    <Button Content="ðŸ“‹ Bookings" 
                            Command="{Binding NavigateCommand}" 
                            CommandParameter="Bookings"
                            Style="{StaticResource NavigationButtonStyle}"
                            Margin="0,0,0,8"/>
                
                    <Button Content="ðŸ‘¤ My Profile" 
                            Command="{Binding NavigateCommand}" 
                            CommandParameter="Profile"
                            Style="{StaticResource NavigationButtonStyle}"
                            Margin="0,0,0,8"
                            Visibility="{Binding CurrentUser.IsAdmin, Converter={StaticResource BooleanToVisibilityConverter}, ConverterParameter=Invert}"/>
                
                    <Button Content="ðŸ“ˆ Reports" 
                            Command="{Binding NavigateCommand}" 
                            CommandParameter="Reports"
                            Style="{StaticResource NavigationButtonStyle}"
                            Margin="0,0,0,8"
                            Visibility="{Binding CurrentUser.IsAdmin, Converter={StaticResource BooleanToVisibilityConverter}}"/>
                </StackPanel>
            </Border>

            <!-- Content Area -->
            <ScrollViewer Grid.Column="1" VerticalScrollBarVisibility="Auto" HorizontalScrollBarVisibility="Auto">
                <StackPanel Margin="30">
                    
                    <!-- Dashboard View -->
                    <StackPanel Visibility="{Binding CurrentView, Converter={StaticResource StringToVisibilityConverter}, ConverterParameter=Dashboard}">
                        <TextBlock Text="Dashboard" FontSize="32" FontWeight="Bold" Margin="0,0,0,30" Foreground="#1F2937"/>
                        
                        <!-- Statistics Cards -->
                        <Grid Margin="0,0,0,40">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            
                            <!-- Total Customers Card -->
                            <Border Grid.Column="0" Background="White" BorderBrush="#E5E7EB" BorderThickness="1" 
                                    CornerRadius="12" Padding="24" Margin="0,0,15,0">
                                <StackPanel>
                                    <StackPanel Orientation="Horizontal" Margin="0,0,0,16">
                                        <Border Background="#3B82F6" CornerRadius="8" Padding="8" Margin="0,0,12,0">
                                            <TextBlock Text="ðŸ‘¥" FontSize="20" Foreground="White"/>
                                        </Border>
                                        <StackPanel>
                                            <TextBlock Text="{Binding Customers.Count}" FontSize="28" FontWeight="Bold" 
                                                       Foreground="#1F2937"/>
                                            <TextBlock Text="Total Customers" FontSize="14" Foreground="#6B7280"/>
                                        </StackPanel>
                                    </StackPanel>
                                    <Border Background="#3B82F6" Opacity="0.1" CornerRadius="4" Height="4"/>
                                </StackPanel>
                            </Border>
                            
                            <!-- Total Rooms Card -->
                            <Border Grid.Column="1" Background="White" BorderBrush="#E5E7EB" BorderThickness="1" 
                                    CornerRadius="12" Padding="24" Margin="5,0">
                                <StackPanel>
                                    <StackPanel Orientation="Horizontal" Margin="0,0,0,16">
                                        <Border Background="#10B981" CornerRadius="8" Padding="8" Margin="0,0,12,0">
                                            <TextBlock Text="ðŸ¨" FontSize="20" Foreground="White"/>
                                        </Border>
                                        <StackPanel>
                                            <TextBlock Text="{Binding Rooms.Count}" FontSize="28" FontWeight="Bold" 
                                                       Foreground="#1F2937"/>
                                            <TextBlock Text="Total Rooms" FontSize="14" Foreground="#6B7280"/>
                                        </StackPanel>
                                    </StackPanel>
                                    <Border Background="#10B981" Opacity="0.1" CornerRadius="4" Height="4"/>
                                </StackPanel>
                            </Border>
                            
                            <!-- Total Bookings Card -->
                            <Border Grid.Column="2" Background="White" BorderBrush="#E5E7EB" BorderThickness="1" 
                                    CornerRadius="12" Padding="24" Margin="5,0">
                                <StackPanel>
                                    <StackPanel Orientation="Horizontal" Margin="0,0,0,16">
                                        <Border Background="#F59E0B" CornerRadius="8" Padding="8" Margin="0,0,12,0">
                                            <TextBlock Text="ðŸ“‹" FontSize="20" Foreground="White"/>
                                        </Border>
                                        <StackPanel>
                                            <TextBlock Text="{Binding Bookings.Count}" FontSize="28" FontWeight="Bold" 
                                                       Foreground="#1F2937"/>
                                            <TextBlock Text="Total Bookings" FontSize="14" Foreground="#6B7280"/>
                                        </StackPanel>
                                    </StackPanel>
                                    <Border Background="#F59E0B" Opacity="0.1" CornerRadius="4" Height="4"/>
                                </StackPanel>
                            </Border>
                            
                            <!-- Revenue Card -->
                            <Border Grid.Column="3" Background="White" BorderBrush="#E5E7EB" BorderThickness="1" 
                                    CornerRadius="12" Padding="24" Margin="15,0,0,0">
                                <StackPanel>
                                    <StackPanel Orientation="Horizontal" Margin="0,0,0,16">
                                        <Border Background="#8B5CF6" CornerRadius="8" Padding="8" Margin="0,0,12,0">
                                            <TextBlock Text="ðŸ’°" FontSize="20" Foreground="White"/>
                                        </Border>
                                        <StackPanel>
                                            <TextBlock Text="{Binding Bookings, Converter={StaticResource TotalRevenueConverter}}" 
                                                       FontSize="24" FontWeight="Bold" Foreground="#1F2937"/>
                                            <TextBlock Text="Total Revenue" FontSize="14" Foreground="#6B7280"/>
                                        </StackPanel>
                                    </StackPanel>
                                    <Border Background="#8B5CF6" Opacity="0.1" CornerRadius="4" Height="4"/>
                                </StackPanel>
                            </Border>
                        </Grid>
                        
                        <!-- Recent Bookings Section -->
                        <Border Background="White" BorderBrush="#E5E7EB" BorderThickness="1" CornerRadius="12" Padding="24">
                            <StackPanel>
                                <TextBlock Text="Recent Bookings" FontSize="20" FontWeight="Bold" Margin="0,0,0,20" 
                                           Foreground="#1F2937"/>
                                
                                <DataGrid ItemsSource="{Binding Bookings}" 
                                          AutoGenerateColumns="False" 
                                          CanUserAddRows="False" 
                                          CanUserDeleteRows="False"
                                          IsReadOnly="True"
                                          GridLinesVisibility="Horizontal"
                                          HeadersVisibility="Column"
                                          Background="White"
                                          BorderThickness="0"
                                          RowBackground="Transparent"
                                          AlternatingRowBackground="#F9FAFB">
                                    <DataGrid.ColumnHeaderStyle>
                                        <Style TargetType="DataGridColumnHeader">
                                            <Setter Property="Background" Value="#F3F4F6"/>
                                            <Setter Property="Foreground" Value="#374151"/>
                                            <Setter Property="FontWeight" Value="SemiBold"/>
                                            <Setter Property="Padding" Value="12,8"/>
                                            <Setter Property="BorderThickness" Value="0"/>
                                        </Style>
                                    </DataGrid.ColumnHeaderStyle>
                                    <DataGrid.Columns>
                                        <DataGridTextColumn Header="Booking ID" Binding="{Binding BookingID}" Width="100"/>
                                        <DataGridTextColumn Header="Room" Binding="{Binding RoomID}" Width="80"/>
                                        <DataGridTextColumn Header="Check In" Binding="{Binding CheckInDate, StringFormat=MM/dd/yyyy}" Width="120"/>
                                        <DataGridTextColumn Header="Check Out" Binding="{Binding CheckOutDate, StringFormat=MM/dd/yyyy}" Width="120"/>
                                        <DataGridTextColumn Header="Amount" Binding="{Binding TotalAmount, StringFormat='${0:0}'}" Width="120"/>
                                    </DataGrid.Columns>
                                </DataGrid>
                            </StackPanel>
                        </Border>
                    </StackPanel>

                    <!-- Customers View -->
                    <StackPanel Visibility="{Binding CurrentView, Converter={StaticResource StringToVisibilityConverter}, ConverterParameter=Customers}">
                        <Grid Margin="0,0,0,20">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>
                            
                            <TextBlock Grid.Column="0" Text="Customer Management" FontSize="24" FontWeight="Bold" Foreground="#1F2937"/>
                            
                            <StackPanel Grid.Column="1" Orientation="Horizontal">
                                <Button Content="Add Customer" 
                                        Command="{Binding AddCustomerCommand}"
                                        Padding="15,8" 
                                        Background="#10B981" 
                                        Foreground="White" 
                                        BorderThickness="0" 
                                        Margin="0,0,10,0"
                                        Cursor="Hand"
                                        FontWeight="SemiBold"/>
                                
                                <Button Content="Edit Customer" 
                                        Command="{Binding EditCustomerCommand}"
                                        Padding="15,8" 
                                        Background="#3B82F6" 
                                        Foreground="White" 
                                        BorderThickness="0" 
                                        Margin="0,0,10,0"
                                        Cursor="Hand"
                                        FontWeight="SemiBold"/>
                                
                                <Button Content="Delete Customer" 
                                        Command="{Binding DeleteCustomerCommand}"
                                        Padding="15,8" 
                                        Background="#EF4444" 
                                        Foreground="White" 
                                        BorderThickness="0" 
                                        Cursor="Hand"
                                        FontWeight="SemiBold"/>
                            </StackPanel>
                        </Grid>
                        
                        <!-- Customer Search Section -->
                        <Border Background="White" BorderBrush="#E5E7EB" BorderThickness="1" CornerRadius="8" Padding="20" Margin="0,0,0,20">
                            <StackPanel>
                                <TextBlock Text="ðŸ” Search Customers" FontSize="16" FontWeight="SemiBold" Margin="0,0,0,15" Foreground="#1F2937"/>
                                
                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="Auto"/>
                                        <ColumnDefinition Width="Auto"/>
                                    </Grid.ColumnDefinitions>
                                    
                                    <TextBox Grid.Column="0" 
                                             Text="{Binding CustomerSearchText, UpdateSourceTrigger=PropertyChanged}"
                                             Padding="12,8" 
                                             FontSize="14"
                                             Background="#F9FAFB"
                                             BorderBrush="#D1D5DB"
                                             BorderThickness="1"
                                             Margin="0,0,10,0">
                                        <TextBox.Style>
                                            <Style TargetType="TextBox">
                                                <Setter Property="Template">
                                                    <Setter.Value>
                                                        <ControlTemplate TargetType="TextBox">
                                                            <Border Background="{TemplateBinding Background}" 
                                                                    BorderBrush="{TemplateBinding BorderBrush}" 
                                                                    BorderThickness="{TemplateBinding BorderThickness}" 
                                                                    CornerRadius="6">
                                                                <ScrollViewer x:Name="PART_ContentHost" Margin="{TemplateBinding Padding}"/>
                                                            </Border>
                                                        </ControlTemplate>
                                                    </Setter.Value>
                                                </Setter>
                                            </Style>
                                        </TextBox.Style>
                                    </TextBox>
                                    
                                    <Button Grid.Column="1" 
                                            Content="ðŸ” Search" 
                                            Command="{Binding SearchCustomersCommand}"
                                            Padding="15,8" 
                                            Background="#3B82F6" 
                                            Foreground="White" 
                                            BorderThickness="0" 
                                            Margin="0,0,10,0"
                                            Cursor="Hand"
                                            FontWeight="SemiBold"/>
                                    
                                    <Button Grid.Column="2" 
                                            Content="ðŸ—‘ï¸ Clear" 
                                            Command="{Binding ClearCustomerSearchCommand}"
                                            Padding="15,8" 
                                            Background="#6B7280" 
                                            Foreground="White" 
                                            BorderThickness="0" 
                                            Cursor="Hand"
                                            FontWeight="SemiBold"/>
                                </Grid>
                                
                                <TextBlock Text="Search by name, email, or phone number" 
                                           FontSize="12" 
                                           Foreground="#6B7280" 
                                           Margin="0,8,0,0"/>
                            </StackPanel>
                        </Border>
                        
                        <DataGrid ItemsSource="{Binding FilteredCustomers}" 
                                SelectedItem="{Binding SelectedCustomer}"
                                  AutoGenerateColumns="False" 
                                  CanUserAddRows="False" 
                                  CanUserDeleteRows="False"
                                  IsReadOnly="True"
                                  GridLinesVisibility="Horizontal"
                                  HeadersVisibility="Column"
                                  Background="White"
                                  BorderBrush="#E5E7EB"
                                  BorderThickness="1"
                                  >
                            <DataGrid.Columns>
                                <DataGridTextColumn Header="ID" Binding="{Binding CustomerID}" Width="60"/>
                                <DataGridTextColumn Header="Full Name" Binding="{Binding CustomerFullName}" Width="200"/>
                                <DataGridTextColumn Header="Email" Binding="{Binding EmailAddress}" Width="250"/>
                                <DataGridTextColumn Header="Telephone" Binding="{Binding Telephone}" Width="120"/>
                                <DataGridTextColumn Header="Birthday" Binding="{Binding CustomerBirthday, StringFormat=MM/dd/yyyy}" Width="100"/>
                            </DataGrid.Columns>
                        </DataGrid>
                    </StackPanel>

                    <!-- Rooms View -->
                    <StackPanel Visibility="{Binding CurrentView, Converter={StaticResource StringToVisibilityConverter}, ConverterParameter=Rooms}">
                        <Grid Margin="0,0,0,20">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>
                            
                            <TextBlock Grid.Column="0" Text="Room Management" FontSize="24" FontWeight="Bold" Foreground="#1F2937"/>
                            
                            <StackPanel Grid.Column="1" Orientation="Horizontal">
                                <Button Content="Add Room" 
                                        Command="{Binding AddRoomCommand}"
                                        Padding="15,8" 
                                        Background="#10B981" 
                                        Foreground="White" 
                                        BorderThickness="0" 
                                        Margin="0,0,10,0"
                                        Cursor="Hand"
                                        FontWeight="SemiBold"/>
                                
                                <Button Content="Edit Room" 
                                        Command="{Binding EditRoomCommand}"
                                        Padding="15,8" 
                                        Background="#3B82F6" 
                                        Foreground="White" 
                                        BorderThickness="0" 
                                        Margin="0,0,10,0"
                                        Cursor="Hand"
                                        FontWeight="SemiBold"/>
                                
                                <Button Content="Delete Room" 
                                        Command="{Binding DeleteRoomCommand}"
                                        Padding="15,8" 
                                        Background="#EF4444" 
                                        Foreground="White" 
                                        BorderThickness="0" 
                                        Cursor="Hand"
                                        FontWeight="SemiBold"/>
                            </StackPanel>
                        </Grid>
                        
                        <!-- Room Search Section -->
                        <Border Background="White" BorderBrush="#E5E7EB" BorderThickness="1" CornerRadius="8" Padding="20" Margin="0,0,0,20">
                            <StackPanel>
                                <TextBlock Text="ðŸ” Search Rooms" FontSize="16" FontWeight="SemiBold" Margin="0,0,0,15" Foreground="#1F2937"/>
                                
                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="Auto"/>
                                        <ColumnDefinition Width="Auto"/>
                                    </Grid.ColumnDefinitions>
                                    
                                    <TextBox Grid.Column="0" 
                                             Text="{Binding RoomSearchText, UpdateSourceTrigger=PropertyChanged}"
                                             Padding="12,8" 
                                             FontSize="14"
                                             Background="#F9FAFB"
                                             BorderBrush="#D1D5DB"
                                             BorderThickness="1"
                                             Margin="0,0,10,0">
                                        <TextBox.Style>
                                            <Style TargetType="TextBox">
                                                <Setter Property="Template">
                                                    <Setter.Value>
                                                        <ControlTemplate TargetType="TextBox">
                                                            <Border Background="{TemplateBinding Background}" 
                                                                    BorderBrush="{TemplateBinding BorderBrush}" 
                                                                    BorderThickness="{TemplateBinding BorderThickness}" 
                                                                    CornerRadius="6">
                                                                <ScrollViewer x:Name="PART_ContentHost" Margin="{TemplateBinding Padding}"/>
                                                            </Border>
                                                        </ControlTemplate>
                                                    </Setter.Value>
                                                </Setter>
                                            </Style>
                                        </TextBox.Style>
                                    </TextBox>
                                    
                                    <Button Grid.Column="1" 
                                            Content="ðŸ” Search" 
                                            Command="{Binding SearchRoomsCommand}"
                                            Padding="15,8" 
                                            Background="#3B82F6" 
                                            Foreground="White" 
                                            BorderThickness="0" 
                                            Margin="0,0,10,0"
                                            Cursor="Hand"
                                            FontWeight="SemiBold"/>
                                    
                                    <Button Grid.Column="2" 
                                            Content="ðŸ—‘ï¸ Clear" 
                                            Command="{Binding ClearRoomSearchCommand}"
                                            Padding="15,8" 
                                            Background="#6B7280" 
                                            Foreground="White" 
                                            BorderThickness="0" 
                                            Cursor="Hand"
                                            FontWeight="SemiBold"/>
                                </Grid>
                                
                                <TextBlock Text="Search by room number, description, capacity, or price" 
                                           FontSize="12" 
                                           Foreground="#6B7280" 
                                           Margin="0,8,0,0"/>
                            </StackPanel>
                        </Border>
                        
                        <DataGrid ItemsSource="{Binding FilteredRooms}" 
                                SelectedItem="{Binding SelectedRoom}"
                                  AutoGenerateColumns="False" 
                                  CanUserAddRows="False" 
                                  CanUserDeleteRows="False"
                                  IsReadOnly="True"
                                  GridLinesVisibility="Horizontal"
                                  HeadersVisibility="Column"
                                  Background="White"
                                  BorderBrush="#E5E7EB"
                                  BorderThickness="1"
                                  >
                            <DataGrid.Columns>
                                <DataGridTextColumn Header="ID" Binding="{Binding RoomID}" Width="60"/>
                                <DataGridTextColumn Header="Room Number" Binding="{Binding RoomNumber}" Width="120"/>
                                <DataGridTextColumn Header="Description" Binding="{Binding RoomDescription}" Width="300"/>
                                <DataGridTextColumn Header="Capacity" Binding="{Binding RoomMaxCapacity}" Width="80"/>
                                <DataGridTextColumn Header="Price" Binding="{Binding RoomPricePerDate, StringFormat='${0:0}'}" Width="120"/>
                                <DataGridTextColumn Header="Type" Binding="{Binding RoomTypeID, Converter={StaticResource RoomTypeConverter}}" Width="120"/>
                            </DataGrid.Columns>
                        </DataGrid>
                    </StackPanel>

                    <!-- Bookings View -->
                    <StackPanel Visibility="{Binding CurrentView, Converter={StaticResource StringToVisibilityConverter}, ConverterParameter=Bookings}">
                        <Grid Margin="0,0,0,20">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>
                            
                            <TextBlock Grid.Column="0" Text="{Binding CurrentUser.IsAdmin, Converter={StaticResource BooleanToTextConverter}, ConverterParameter=All Bookings|My Bookings}" FontSize="24" FontWeight="Bold" Foreground="#1F2937"/>
                            
                            <StackPanel Grid.Column="1" Orientation="Horizontal">
                                <Button Content="âž• New Booking" 
                                        Command="{Binding AddBookingCommand}"
                                        Padding="15,8" 
                                        Background="#10B981" 
                                        Foreground="White" 
                                        BorderThickness="0" 
                                        Margin="0,0,10,0"
                                        Cursor="Hand"
                                        FontWeight="SemiBold"
                                        Visibility="{Binding CurrentUser.IsAdmin, Converter={StaticResource BooleanToVisibilityConverter}, ConverterParameter=Invert}"/>
                                
                                <Button Content="âœï¸ Edit Booking" 
                                        Command="{Binding EditBookingCommand}"
                                        Padding="15,8" 
                                        Background="#3B82F6" 
                                        Foreground="White" 
                                        BorderThickness="0" 
                                        Margin="0,0,10,0"
                                        Cursor="Hand"
                                        FontWeight="SemiBold"
                                        Visibility="{Binding CurrentUser.IsAdmin, Converter={StaticResource BooleanToVisibilityConverter}, ConverterParameter=Invert}"/>
                                
                                <Button Content="âŒ Cancel Booking" 
                                        Command="{Binding CancelBookingCommand}"
                                        Padding="15,8" 
                                        Background="#EF4444" 
                                        Foreground="White" 
                                        BorderThickness="0" 
                                        Cursor="Hand"
                                        FontWeight="SemiBold"
                                        Visibility="{Binding CurrentUser.IsAdmin, Converter={StaticResource BooleanToVisibilityConverter}, ConverterParameter=Invert}"/>
                            </StackPanel>
                        </Grid>
                        
                        
                        <DataGrid ItemsSource="{Binding Bookings}" 
                                  SelectedItem="{Binding SelectedBooking}"
                                  AutoGenerateColumns="False" 
                                  CanUserAddRows="False" 
                                  CanUserDeleteRows="False"
                                  IsReadOnly="True"
                                  GridLinesVisibility="Horizontal"
                                  HeadersVisibility="Column"
                                  Background="White"
                                  BorderBrush="#E5E7EB"
                                  BorderThickness="1"
                                  >
                            <DataGrid.ColumnHeaderStyle>
                                <Style TargetType="DataGridColumnHeader">
                                    <Setter Property="Background" Value="#F3F4F6"/>
                                    <Setter Property="Foreground" Value="#374151"/>
                                    <Setter Property="FontWeight" Value="SemiBold"/>
                                    <Setter Property="Padding" Value="12,8"/>
                                    <Setter Property="BorderThickness" Value="0"/>
                                </Style>
                            </DataGrid.ColumnHeaderStyle>
                            <DataGrid.Columns>
                                <DataGridTextColumn Header="Booking ID" Binding="{Binding BookingID}" Width="80"/>
                                <DataGridTextColumn Header="Room" Binding="{Binding RoomName}" Width="100"/>
                                <DataGridTextColumn Header="Check In" Binding="{Binding CheckInDate, StringFormat=MM/dd/yyyy}" Width="100"/>
                                <DataGridTextColumn Header="Check Out" Binding="{Binding CheckOutDate, StringFormat=MM/dd/yyyy}" Width="100"/>
                                <DataGridTextColumn Header="Total Amount" Binding="{Binding TotalAmount, StringFormat='${0:0}'}" Width="120"/>
                                <DataGridTextColumn Header="Notes" Binding="{Binding Notes}" Width="200"/>
                            </DataGrid.Columns>
                        </DataGrid>
                    </StackPanel>

                    <!-- Profile View -->
                    <StackPanel Visibility="{Binding CurrentView, Converter={StaticResource StringToVisibilityConverter}, ConverterParameter=Profile}">
                        <TextBlock Text="My Profile" FontSize="24" FontWeight="Bold" Margin="0,0,0,20" Foreground="#1F2937"/>
                        
                        <Border Background="White" BorderBrush="#E5E7EB" BorderThickness="1" CornerRadius="12" Padding="24">
                            <StackPanel>
                                <TextBlock Text="Profile Information" FontSize="18" FontWeight="SemiBold" Margin="0,0,0,20" Foreground="#1F2937"/>
                                
                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="200"/>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="Auto"/>
                                        <RowDefinition Height="Auto"/>
                                        <RowDefinition Height="Auto"/>
                                        <RowDefinition Height="Auto"/>
                                        <RowDefinition Height="Auto"/>
                                    </Grid.RowDefinitions>
                                    
                                    <TextBlock Grid.Row="0" Grid.Column="0" Text="Full Name:" FontWeight="SemiBold" Margin="0,0,0,10" Foreground="#374151"/>
                                    <TextBlock Grid.Row="0" Grid.Column="1" Text="{Binding CurrentUser.CustomerFullName}" Margin="0,0,0,10" Foreground="#6B7280"/>
                                    
                                    <TextBlock Grid.Row="1" Grid.Column="0" Text="Email:" FontWeight="SemiBold" Margin="0,0,0,10" Foreground="#374151"/>
                                    <TextBlock Grid.Row="1" Grid.Column="1" Text="{Binding CurrentUser.EmailAddress}" Margin="0,0,0,10" Foreground="#6B7280"/>
                                    
                                    <TextBlock Grid.Row="2" Grid.Column="0" Text="Telephone:" FontWeight="SemiBold" Margin="0,0,0,10" Foreground="#374151"/>
                                    <TextBlock Grid.Row="2" Grid.Column="1" Text="{Binding CurrentUser.Telephone}" Margin="0,0,0,10" Foreground="#6B7280"/>
                                    
                                    <TextBlock Grid.Row="3" Grid.Column="0" Text="Birthday:" FontWeight="SemiBold" Margin="0,0,0,10" Foreground="#374151"/>
                                    <TextBlock Grid.Row="3" Grid.Column="1" Text="{Binding CurrentUser.CustomerBirthday, StringFormat=MM/dd/yyyy}" Margin="0,0,0,10" Foreground="#6B7280"/>
                                    
                                </Grid>
                                
                                <StackPanel Orientation="Horizontal" Margin="0,20,0,0">
                                    <Button Content="Edit Profile" 
                                            Command="{Binding EditProfileCommand}"
                                            Padding="15,8" 
                                            Background="#3B82F6" 
                                            Foreground="White" 
                                            BorderThickness="0" 
                                            Margin="0,0,10,0"
                                            Cursor="Hand"
                                            FontWeight="SemiBold"/>
                                    
                                    <Button Content="Change Password" 
                                            Command="{Binding ChangePasswordCommand}"
                                            Padding="15,8" 
                                            Background="#10B981" 
                                            Foreground="White" 
                                            BorderThickness="0" 
                                            Cursor="Hand"
                                            FontWeight="SemiBold"/>
                                </StackPanel>
                            </StackPanel>
                        </Border>
                    </StackPanel>

                    <!-- Reports View -->
                    <StackPanel Visibility="{Binding CurrentView, Converter={StaticResource StringToVisibilityConverter}, ConverterParameter=Reports}">
                        <TextBlock Text="Reports &amp; Analytics" FontSize="24" FontWeight="Bold" Margin="0,0,0,20" Foreground="#1F2937"/>
                        
                        <!-- Export Buttons -->
                        <StackPanel Orientation="Horizontal" Margin="0,0,0,30">
                            <Button Content="ðŸ“Š Export HTML Report" 
                                    Command="{Binding ExportReportCommand}"
                                    Margin="0,0,10,0"
                                    Padding="15,10"
                                    Background="#3B82F6"
                                    Foreground="White"
                                    BorderThickness="0"
                                    Cursor="Hand"
                                    FontWeight="SemiBold"/>
                            
                            <Button Content="ðŸ“ˆ Export Charts" 
                                    Command="{Binding ExportChartCommand}"
                                    Margin="0,0,10,0"
                                    Padding="15,10"
                                    Background="#EF4444"
                                    Foreground="White"
                                    BorderThickness="0"
                                    Cursor="Hand"
                                    FontWeight="SemiBold"/>
                            
                            <Button Content="ðŸ“„ Export PDF" 
                                    Command="{Binding ExportPDFCommand}"
                                    Margin="0,0,10,0"
                                    Padding="15,10"
                                    Background="#F59E0B"
                                    Foreground="White"
                                    BorderThickness="0"
                                    Cursor="Hand"
                                    FontWeight="SemiBold"/>
                            
                            <Button Content="ðŸ“‹ Export Excel" 
                                    Command="{Binding ExportExcelCommand}"
                                    Padding="15,10"
                                    Background="#10B981"
                                    Foreground="White"
                                    BorderThickness="0"
                                    Cursor="Hand"
                                    FontWeight="SemiBold"/>
                        </StackPanel>
                        
                        <!-- Report Description -->
                        <Border Background="#F9FAFB" BorderBrush="#E5E7EB" BorderThickness="1" CornerRadius="8" Padding="20" Margin="0,0,0,20">
                            <StackPanel>
                                <TextBlock Text="ðŸ“Š Export Features" FontSize="18" FontWeight="Bold" Margin="0,0,0,10" Foreground="#1F2937"/>
                                <TextBlock Text="â€¢ HTML Report: Comprehensive business report with statistics and analysis" Margin="0,0,0,5" Foreground="#6B7280"/>
                                <TextBlock Text="â€¢ Charts: Revenue trends, customer distribution, room performance, and occupancy rates" Margin="0,0,0,5" Foreground="#6B7280"/>
                                <TextBlock Text="â€¢ PDF: Professional formatted report for presentations and documentation" Margin="0,0,0,5" Foreground="#6B7280"/>
                                <TextBlock Text="â€¢ Excel: Detailed data analysis with multiple sheets for further processing" Margin="0,0,0,5" Foreground="#6B7280"/>
                            </StackPanel>
                        </Border>
                        
                        <!-- Quick Stats -->
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>

                            <Border Grid.Column="0" Background="#F3F4F6" CornerRadius="8" Padding="15" Margin="5">
                                <StackPanel>
                                    <TextBlock Text="Total Revenue" FontSize="12" Foreground="#6B7280" HorizontalAlignment="Center"/>
                                    <TextBlock Text="{Binding Bookings, Converter={StaticResource TotalRevenueConverter}}" 
                                               FontSize="20" FontWeight="Bold" Foreground="#1F2937" HorizontalAlignment="Center"/>
                                </StackPanel>
                            </Border>
                            
                            <Border Grid.Column="1" Background="#F3F4F6" CornerRadius="8" Padding="15" Margin="5">
                                <StackPanel>
                                    <TextBlock Text="Total Bookings" FontSize="12" Foreground="#6B7280" HorizontalAlignment="Center"/>
                                    <TextBlock Text="{Binding Bookings.Count}" 
                                               FontSize="20" FontWeight="Bold" Foreground="#1F2937" HorizontalAlignment="Center"/>
                                </StackPanel>
                            </Border>

                            <Border Grid.Column="2" Background="#F3F4F6" CornerRadius="8" Padding="15" Margin="5">
                                <StackPanel>
                                    <TextBlock Text="Total Customers" FontSize="12" Foreground="#6B7280" HorizontalAlignment="Center"/>
                                    <TextBlock Text="{Binding Customers.Count}" 
                                               FontSize="20" FontWeight="Bold" Foreground="#1F2937" HorizontalAlignment="Center"/>
                                </StackPanel>
                            </Border>

                            <Border Grid.Column="3" Background="#F3F4F6" CornerRadius="8" Padding="15" Margin="5">
                                <StackPanel>
                                    <TextBlock Text="Total Rooms" FontSize="12" Foreground="#6B7280" HorizontalAlignment="Center"/>
                                    <TextBlock Text="{Binding Rooms.Count}" 
                                               FontSize="20" FontWeight="Bold" Foreground="#1F2937" HorizontalAlignment="Center"/>
                                </StackPanel>
                            </Border>
                        </Grid>
                    </StackPanel>
                </StackPanel>
            </ScrollViewer>
        </Grid>
    </Grid>
</Window>